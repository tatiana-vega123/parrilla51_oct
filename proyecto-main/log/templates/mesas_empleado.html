<!DOCTYPE html>
<html lang="es">

  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Mesas Parrilla 51</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">

    <style>
      /* ==================== RESET ==================== */
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box; /* Asegura que padding y border no causen desbordamientos */
      }

      /* ==================== ESTILOS GENERALES ==================== */
      html, body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        background-color: #3a3a3a; /* Gris oscuro */
        color: #f0f0f0;
        overflow-x: hidden; /* Ocultar cualquier desbordamiento horizontal */
        width: 100%; /* Asegura que no se desborde */
        height: 100%; /* Asegura que no se desborde verticalmente */
      }

      body {
        display: flex;
        flex-direction: column;
      }

      /* ==================== WRAPPER ==================== */
      .wrapper {
        display: flex;
        flex-direction: column;
        max-width: 100%; /* Asegura que el contenido no se desborde horizontalmente */
        overflow-x: hidden;
        margin: 0 auto;
        width: 100%;
      }

      /* ==================== NAVBAR ==================== */
      .navbar {
        display: flex;
        align-items: center;
        justify-content: space-between;
        background: #2f2f2f;
        padding: 12px 30px;
        color: #fff;
        width: 100%;
      }

      .logo {
        display: flex;
        align-items: center;
        gap: 10px;
        font-size: 22px;
        font-weight: bold;
        color: #ff4444; /* Rojo */
      }

      .logo img {
        height: 40px;
      }

      .nav-links {
        list-style: none;
        display: flex;
        gap: 25px;
        margin: 0;
        padding: 0;
      }

      .nav-links li {
        cursor: pointer;
        font-weight: bold;
        color: #fff;
        transition: color 0.3s;
      }

      .nav-links li a {
        color: #fff;
        text-decoration: none;
      }

      .nav-links li a:hover {
        color: #ffd700; /* Dorado */
      }

      /* ==================== BOTONES ==================== */
      button,
      a.btn {
        border-radius: 6px;
        padding: 8px 16px;
        font-weight: bold;
        transition: all 0.3s ease;
        cursor: pointer;
      }

      .zona-btn {
        background: #ffd700;
        color: #000;
        border: none;
        font-size: 16px;
        margin: 20px 0;
        display: flex;
        justify-content: center;
        align-items: center;
        margin-top: 10px; /* Reducir el margen superior para acercar más las mesas */
      }

      .zona-btn:hover {
        background: #e6b800;
      }

      /* ==================== GRID DE MESAS ==================== */
      .grid {
        display: grid;
        grid-template-columns: repeat(7, 1fr); /* Establece 7 columnas */
        gap: 15px;
        padding: 20px;
        width: 100%; /* Hace que la grid ocupe todo el ancho disponible */
        max-width: 100%; /* Evita que la grid se salga del ancho de la pantalla */
        margin: auto;
        overflow-x: hidden; /* Elimina cualquier desbordamiento en la grid */
      }

      .mesa {
        background: #2f2f2f;
        border-radius: 8px;
        padding: 30px;
        text-align: center;
        font-size: 20px;
        font-weight: bold;
        transition: transform 0.2s, background 0.2s, border-color 0.3s;
        border: 2px solid #ffd700;
      }

      .mesa:hover {
        background: #444;
        transform: scale(1.05);
        border-color: #ff4444;
      }

      .mesa.seleccionada {
        background: #555;
        border-color: #ff4444;
      }

      /* ==================== FOOTER ==================== */
     footer {
      background: #2f2f2f;
      color: #fff;
      text-align: center;
      padding: 11.5px;
      border-top: 2px solid #ffd700;
      margin-top: auto; 
    }
      

      .zona {
        display: flex;
        justify-content: center;
        align-items: center;
        margin: 20px 0;
      }

      /* ==================== MEDIA QUERY PARA RESPONSIVIDAD ==================== */
      @media (max-width: 768px) {
        .grid {
          grid-template-columns: repeat(4, 1fr); /* Reduce a 4 columnas en pantallas pequeñas */
        }

        .mesa {
          padding: 20px; /* Reduce el tamaño de las mesas para pantallas pequeñas */
          font-size: 18px; /* Ajusta el tamaño de la fuente */
        }
      }

      @media (max-width: 480px) {
        .grid {
          grid-template-columns: repeat(2, 1fr); /* Reduce a 2 columnas en pantallas aún más pequeñas */
        }

        .mesa {
          padding: 15px; /* Reduce el tamaño de las mesas para pantallas muy pequeñas */
          font-size: 16px; /* Ajusta el tamaño de la fuente */
        }
      }
    </style>
  </head>

  <body>
    <div class="wrapper">
      {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
      <div class="alert-container" style="position: absolute; top: 20px; left: 50%; transform: translateX(-50%); z-index: 1000;">
        {% for category, message in messages %}
        <div class="alert alert-{{ category }}" style="background: #4CAF50; color: white; padding: 10px 20px; border-radius: 5px;">
          {{ message }}
        </div>
        {% endfor %}
      </div>
      {% endif %}
      {% endwith %}

      <nav class="navbar">
        <div class="logo">
          <img src="{{ url_for('static', filename='img/logooo.png') }}" alt="Logo">
          <span>Parrilla 51</span>
        </div>

        <ul class="nav-links">
          <li><a href="{{ url_for('mesas_empleado') }}">Mesas</a></li>
          <li><a href="{{ url_for('registrar_empleado') }}">Registrar</a></li>
          <li><a href="{{ url_for('ordenes_empleado') }}">Órdenes</a></li>
          <li><a href="{{ url_for('reservas_empleado') }}">Reservas</a></li>
          <li><a href="{{ url_for('perfil_empleado') }}"><i class="bi bi-person-circle" style="font-size: 1.3rem;"></i></a></li>
        </ul>
      </nav>

      <!-- MAIN CONTENT -->
      <main>
        <!-- BOTONES DE ZONA -->
        <div class="zona">
          <button class="zona-btn historial-btn" onclick="window.location.href='{{ url_for('historial_pagos_restaurante') }}'">
            Historial
          </button>
        </div>

        <!-- GRID DE MESAS -->
        <div class="grid" id="mesasGrid"></div>
      </main>
    </div>

    <script>
      const mesasGrid = document.getElementById('mesasGrid');

      for (let i = 1; i <= 20; i++) { // Cambié 21 a 20
        const mesa = document.createElement('div');
        mesa.className = 'mesa';
        mesa.textContent = i;

        mesa.onclick = () => {
          window.location.href = `/orden/${i}`;
        };

        mesasGrid.appendChild(mesa);
      }
    </script>

    <script>
      window.onload = function () {
        var alertContainer = document.querySelector('.alert-container');
        if (alertContainer) {
          setTimeout(function () {
            window.location.href = "{{ url_for('mesas_empleado') }}";
          }, 3000); // 3 segundos antes de redirigir
        }
      };
    </script>

    <footer>
      © 2025 Parrilla 51 - Todos los derechos reservados
    </footer>
  </body>

</html>
